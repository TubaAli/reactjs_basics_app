<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title> React Js Course </title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.2/browser.min.js"></script>
</head>
<body>
  <div id="app"></div>
  <script type="text/babel">
// higher order component
  let BaseCount = (BasicComponent) => class extends React.Component{
    constructor(props){
      super(props);
      this.state = {
        count: 0,
        text: "hello"
      }
      this.incrementCount = this.incrementCount.bind(this);
    }
    incrementCount(){
      console.log("I have been clicked! ");
      this.setState({
        count: this.state.count + 1
      })
    }
    render(){
      return(
        <div> <BasicComponent {...this.state} increment={this.incrementCount} />
        </div>
      )
    }
  }
  //stateless function component
 const Label = (props) => {
   return(
     <label onMouseMove = {props.increment}> Count: {props.count} </label>
   )
 }

  const Button = (props) => {
    console.log(props)
    return(
      <button onClick={props.increment}> count: {props.count} </button>
    )
  }

  let ExtendedLabel = BaseCount(Label);
  let ExtendedButton = BaseCount(Button);

  class Container extends React.Component{
    render(){
      return(
        <div>
        <ExtendedLabel />
        <ExtendedButton />
        </div>
      )
    }
  }
  ReactDOM.render(
    <Container />,
    document.getElementById('app')
  );
  </script>
</body>
</html>
